<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Refactoring Test</title>

    <script>
        const AWES_CONFIG = {
            key: '5cd207e2c94eb723c3307764a5693def'
        }
    </script>

    <script src="https://cdn.pkgkit.com/5cd207e2c94eb723c3307764a5693def/awes-io/form-builder/v1.1.0/js/main.js"></script>
    <link rel="stylesheet" href="/css/main.css">
    <script src="https://cdn.pkgkit.com/5cd207e2c94eb723c3307764a5693def/awes-io/base-js/v1.x.x/js/main.js"></script>
</head>

<body>
    <div id="awes-app">
        <button @click="$root.$emit('forms:reset', 'manager')">RESET</button>
        <form-builder disabled-dialog url="//httpbin.org/post" name="manager" :default="{
            active: 1,
            email:'camylle57@example.com',
            id:'ODY%3D',
            profile_manager: {
                description:'Ea voluptates voluptatibus in consequuntur ut tempora doloremque. Provident excepturi iste saepe illum saepe. Ipsa alias maiores ut quasi rerum fuga. Consequatur nihil dolores quam alias et.',
                phones: [
                    { phone: '1354634', validated: '+7 135 4634' },
                    { phone: '4456634', validated: '+7 445 6634' },
                ],
                fax:'9150818698',
                first_name:'Clementine',
                full_name:'Clementine Farrell',
                last_name:'Farrell',
                position:'Photographic Restorer',
                smtp:1,
                smtp_host:'breitenberg.net',
                smtp_login:'sydni09',smtp_password:'eyJpdiI6InkyeHZYRVVUakU0OEd3aUtuSjZPU1E9PSIsInZhbHVlIjoiSlUzSE8xcGphTWhyQmVtWFlIeHdIQT09IiwibWFjIjoiMDQxZjUwY2U5ZDAxNDFlZmQ4M2ZkYzg3NmI4YmNiYmM3ZDdkYmM2MDY3ZmQwMGRmNGM3NTY4YjRmYTliNTBhYyJ9'
            },
            theme_dark:0
        }">
            <template v-slot="{fields}">
                <fb-input label="First Name" name="profile_manager.first_name"></fb-input>
                <fb-input label="Last Name" name="profile_manager.last_name"></fb-input>
                <fb-input label="Position" name="profile_manager.position"></fb-input>
                <fb-input label="Email" name="email" type="email" required></fb-input>
                <fb-multi-block name="profile_manager.phones">
                    <template v-slot="{id}">
                        <fb-phone label="phone" name="phone" :id="id"></fb-phone>
                        <fb-input name="validated" type="hidden" :id="id"></fb-input>
                    </template>
                </fb-multi-block>
                <fb-textarea label="Description" name="profile_manager.description"></fb-textarea>
                <fb-checkbox label="Dark theme" name="theme_dark"></fb-checkbox>
                <fb-switcher label="SMTP" name="profile_manager.smtp"></fb-switcher>
                <h3 :style="{opacity: fields.profile_manager.smtp ? 1 : 0.5}">SMTP</h3>
                <fb-input label="Host" name="profile_manager.smtp_host" :disabled="!fields.profile_manager.smtp"></fb-input>
                <fb-input label="Login" name="profile_manager.smtp_login" :disabled="!fields.profile_manager.smtp"></fb-input>
                <fb-input label="Password" name="profile_manager.smtp_password" type="password" :disabled="!fields.profile_manager.smtp"></fb-input>
            </template>
        </form-builder>
    </div>
</body>

</html>